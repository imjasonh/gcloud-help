NAME
    gcloud alpha run jobs create - deploy a new job to Cloud Run

SYNOPSIS
    gcloud alpha run jobs create [JOB] --image=IMAGE [--args=[ARG,...]]
        [--binary-authorization=POLICY] [--breakglass=JUSTIFICATION]
        [--command=[COMMAND,...]] [--cpu=CPU] [--key=KEY]
        [--labels=[KEY=VALUE,...]] [--max-retries=MAX_RETRIES]
        [--memory=MEMORY] [--parallelism=PARALLELISM] [--region=REGION]
        [--run-now] [--service-account=SERVICE_ACCOUNT]
        [--set-cloudsql-instances=[CLOUDSQL-INSTANCES,...]]
        [--set-env-vars=[KEY=VALUE,...]]
        [--set-secrets=[KEY=SECRET_NAME:SECRET_VERSION,...]]
        [--task-timeout=TASK_TIMEOUT] [--tasks=TASKS; default=1]
        [--vpc-connector=VPC_CONNECTOR] [--vpc-egress=VPC_EGRESS]
        [--async | --wait] [GCLOUD_WIDE_FLAG ...]

DESCRIPTION
    (ALPHA) Deploys a new job to Google Cloud Run.

EXAMPLES
    To deploy a new job my-data-transformation on Cloud Run:

        $ gcloud alpha run jobs create my-data-transformation \
          --image=us-docker.pkg.dev/project/image

    You may also omit the job name. Then a prompt will be displayed with a
    suggested default value:

        $ gcloud alpha run jobs create \
          --image=us-docker.pkg.dev/project/image

POSITIONAL ARGUMENTS
     Job resource - Job to create. This represents a Cloud resource. (NOTE)
     Some attributes are not given arguments in this group but can be set in
     other ways. To set the project attribute:
      ◆ provide the argument JOB on the command line with a fully specified
        name;
      ◆ specify the job name from an interactive prompt with a fully
        specified name;
      ◆ provide the argument --project on the command line;
      ◆ set the property core/project.

       [JOB]
          ID of the Job or fully qualified identifier for the Job. To set the
          jobs attribute:
          ▸ provide the argument JOB on the command line;
          ▸ specify the job name from an interactive prompt.

REQUIRED FLAGS
     --image=IMAGE
        Name of the container image to deploy (e.g.
        gcr.io/cloudrun/hello:latest).

OPTIONAL FLAGS
     --args=[ARG,...]
        Comma-separated arguments passed to the command run by the container
        image. If not specified and no '--command' is provided, the container
        image's default Cmd is used. Otherwise, if not specified, no arguments
        are passed. To reset this field to its default, pass an empty string.

     --binary-authorization=POLICY
        Binary Authorization policy to check against. This must be set to
        "default".

     --breakglass=JUSTIFICATION
        Justification to bypass Binary Authorization policy constraints and
        allow the operation. See
        https://cloud.google.com/binary-authorization/docs/using-breakglass for
        more information.

     --command=[COMMAND,...]
        Entrypoint for the container image. If not specified, the container
        image's default Entrypoint is run. To reset this field to its default,
        pass an empty string.

     --cpu=CPU
        Set a CPU limit in Kubernetes cpu units.

        Cloud Run (fully managed) supports values 1, 2 and 4. For Cloud Run
        (fully managed), 4 cpus also requires a minimum 2Gi --memory value.
        Examples 2, 2.0, 2000m

     --key=KEY
        CMEK key reference to encrypt the container with.

     --labels=[KEY=VALUE,...]
        List of label KEY=VALUE pairs to add.

     --max-retries=MAX_RETRIES
        Number of times an task is allowed to restart in case of failure before
        being failed permanently. This applies per-task, not per-job. If set to
        0, tasks will only run once and never be retried on failure.

     --memory=MEMORY
        Set a memory limit. Ex: 1024Mi, 4Gi.

     --parallelism=PARALLELISM
        Number of tasks that may run concurrently. Must be less than or equal
        to the number of tasks.

     --region=REGION
        Region in which the resource can be found. Alternatively, set the
        property [run/region].

     --run-now
        Run the job immediately after creation.

     --service-account=SERVICE_ACCOUNT
        Service account associated with the revision of the service. The
        service account represents the identity of the running revision, and
        determines what permissions the revision has. For the managed platform,
        this is the email address of an IAM service account. For the
        Kubernetes-based platforms (gke, kubernetes), this is the name of a
        Kubernetes service account in the same namespace as the service. If not
        provided, the revision will use the default service account of the
        project, or default Kubernetes namespace service account respectively.

     --set-cloudsql-instances=[CLOUDSQL-INSTANCES,...]
        You can specify a name of a Cloud SQL instance if it's in the same
        project and region as your Cloud Run resource; otherwise specify
        <project>:<region>:<instance> for the instance.

     --set-env-vars=[KEY=VALUE,...]
        List of key-value pairs to set as environment variables.

     --set-secrets=[KEY=SECRET_NAME:SECRET_VERSION,...]
        Specify secrets to provide as environment variables. For example:
        '--set-secrets=ENV=mysecret:latest,OTHER_ENV=othersecret:1' will create
        an environment variable named ENV whose value is the latest version of
        secret 'mysecret' and an environment variable OTHER_ENV whose value is
        version of 1 of secret 'othersecret'.

     --task-timeout=TASK_TIMEOUT
        Set the maximum time (deadline) a job task attempt can run for. In the
        case of retries, this deadline applies to each attempt of a task. If
        the task attempt does not complete within this time, it will be killed.
        It is specified as a duration; for example, "10m5s" is ten minutes, and
        five seconds. If you don't specify a unit, seconds is assumed. For
        example, "10" is 10 seconds.

     --tasks=TASKS; default=1
        Number of tasks that must run to completion for the job to be
        considered done. Use this flag to trigger multiple runs of the job.

     --vpc-connector=VPC_CONNECTOR
        Set a VPC connector for this resource.

     --vpc-egress=VPC_EGRESS
        The outbound traffic to send through the VPC connector for this
        resource. This resource must have a VPC connector to set VPC egress.
        VPC_EGRESS must be one of:

         all
            (DEPRECATED) Sends all outbound traffic through the VPC connector.
            Provides the same functionality as 'all-traffic'. Prefer to use
            'all-traffic' instead.
         all-traffic
            Sends all outbound traffic through the VPC connector.
         private-ranges-only
            Default option. Sends outbound traffic to private IP addresses
            defined by RFC1918 through the VPC connector.

     At most one of these can be specified:

       --async
          Return immediately, without waiting for the operation in progress to
          complete.

       --wait
          Wait until the execution has completed running before exiting. If not
          set, gcloud exits successfully when the execution has started.
          Implies --run-now.

GCLOUD WIDE FLAGS
    These flags are available to all commands: --access-token-file, --account,
    --billing-project, --configuration, --flags-file, --flatten, --format,
    --help, --impersonate-service-account, --log-http, --project, --quiet,
    --trace-token, --user-output-enabled, --verbosity.

    Run $ gcloud help for details.

NOTES
    This command is currently in alpha and might change without notice. If this
    command fails with API permission errors despite specifying the correct
    project, you might be trying to access an API with an invitation-only early
    access allowlist.

